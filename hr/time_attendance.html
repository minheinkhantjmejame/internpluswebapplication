<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InternPlus</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/styles.css">
    <style rel="stylesheet" type="text/css">
        body {
            background-color: #fff;
            height: 100%;
        }
        .main-container {
            display: flex;
            align-items: stretch; /* Ensures both sidebar & content stretch equally */
        }
        .sidebar {
            background-color: #F3F5FC;
            padding-top: 10px;
            padding-left: 20px;
            height: auto; /* Allows it to stretch dynamically */

            
        }
        /* Default styling for sidebar links */
/* Default sidebar link styling */
.nav-link {
    display: flex;
    align-items: center;
    padding: 10px;
    text-decoration: none;
    color: black;
    border-left: 3px solid transparent; /* No border by default */
    transition: border-left 0.3s ease-in-out, background-color 0.3s ease-in-out;
}

/* Add border-left only when clicked */
.nav-link.active {
    border-left: 4px solid black; /* Highlight color */
    background-color: #EDEFF7; /* Optional: Background change */
}


        .dashboard-content {
            padding: 20px;
        }

        /* heading part  */
        .badge-box{
            background-color:#B1BBE7;
            border-radius:4px;
        }

        /* heading part  */

        .container {
            background-color: #F3F5FC;
            padding: 20px;
            border-radius: 10px;
        }
        .nav-tabs {
            border-bottom: 2px solid #ddd;
        }
        .nav-tabs .nav-link {
            color: #C8C8C8;
            font-weight: bold;
            border: none;
            padding: 12px 20px;
        }
        .nav-tabs .nav-link.active {
            border-bottom:3px solid #474BC2;
            background-color:transparent;
            
        }
        
        
    </style>

    <!-- Jquery UI -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

</head>
<body>
    <div class="row mb-0">
        <div class="col-md-3" style="background-color:#F3F5FC;border-right:2px solid #fff;border-bottom:2px solid #fff;">
            <a class="navbar-brand fw-bold" href="#" style="font-size:40px; margin-left:20px;">INTERNPLUS</a>
            <div class="dropdown" style="margin:0;display: inline-block;">
                <button class="btn btn-white" style="border:none;background-color:#F3F5FC" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                    <span id="dropdownLabel">EN</span> <i class="bi bi-chevron-down"></i>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li><a class="dropdown-item" href="#" onclick="updateLanguage('EN')">EN</a></li>
                    <li><a class="dropdown-item" href="#" onclick="updateLanguage('THAI')">THAI</a></li>
                    <li><a class="dropdown-item" href="#" onclick="updateLanguage('MYAN')">MYAN</a></li>
                </ul>
            </div>
        </div>
        <div class="col-md-9" style="background-color:#F3F5FC; display:flex; align-items:center; justify-content:space-between;">
            <div style="margin-left:30px;display:flex;align-items:center;flex-grow:0.2; justify-content: flex-start;">
                <div class="input-group" id="input-search" style="width: 100%;">
                    <button class="btn btn-dark" onclick="applySearch()" style="background-color:#ffffff; display:flex;justify-content: center;align-items:center;">
                        <i class="bi bi-search" style="color:#000;"></i>
                    </button>
                    <input type="text" id="searchInput" class="form-control" style="border:none; background-color:#ffffff;" placeholder="Search for program, candidates and more...">
                </div>
            </div>
            <div style="display:flex; align-items:center; gap:10px; margin-right:10px;">
                <button class="btn text-center gpa-2" style="color:#474BC2; border:1px solid #474BC2; background-color:#ffffff; border-radius:40px;">
                    <img src="../assets/icon/battery-v-charging_purple.png" style="margin-right:5px;" alt="">Standard
                </button>
                <button class="btn"  style="background-color:#ffffff; border-radius:50%; width:40px; height:40px; display:flex; justify-content:center; align-items:center;">
                    <img src="../assets/icon/settings-alt.png" alt="">
                </button>
                <button class="btn" style="background-color:#ffffff; border-radius:50%; width:40px; height:40px; display:flex; justify-content:center; align-items:center;">
                    <img src="../assets/icon/notification.png" alt="">
                </button>
                <div class="profile_photo">
                    <img src="../assets/img/user_sample_1.png" alt="">
                </div>
            </div>
        </div>   
    </div>

    <div class="row main-container" >
    <div class="col-md-3 sidebar">
        <!-- Sidebar Navigation -->
        <nav class="nav flex-column">
            <a class="nav-link text-dark" href="./dashboard.html"><img src="../assets/icon/dashboard.png" alt=""> Dashboard</a>
            <a class="nav-link text-dark" href="./calendar.html"><img src="../assets/icon/calendar.png" alt=""> Calendar</a>
            <a class="nav-link text-dark" href="./storage.html"><img src="../assets/icon/folder-open.png" alt=""> Storage</a>
            
            <p class="text-muted mt-3">RECRUITMENT</p>
            <a class="nav-link text-dark" href="./program.html"><img src="../assets/icon/suitcase.png" alt=""> Program</a>
            <a class="nav-link text-dark" href="./candidates.html"><img src="../assets/icon/users.png" alt=""> Candidates</a>
            <a class="nav-link text-dark" href="./test_forms.html"><img src="../assets/icon/book-library.png" alt=""> Test & Forms</a>
            
            <p class="text-muted mt-3">ORGANIZED</p>
            <a class="nav-link text-dark" href="./interns.html"><img src="../assets/icon/user.png" alt=""> Interns</a>
            <a class="nav-link text-dark" href="./time_attendance.html"> <img src="../assets/icon/clock.png" alt=""> Time Attendance</a>
            <a class="nav-link text-dark" href="./assignment_sheet.html"> <img src="../assets/icon/paste.png" alt=""> Assignment Sheet</a>
            <a class="nav-link text-dark" href="./report.html"> <img src="../assets/icon/document.png" alt="">Report</a>

            <p class="text-muted mt-3">RESIGNATION</p>
            <a class="nav-link text-dark" href="./offboard.html"><img src="../assets/icon/box.png" alt=""> Offboard</a>
            <a class="nav-link text-dark" href="./payroll.html"><img src="../assets/icon/wallet.png" alt="">Payroll</a>
        </nav>
    </div>



    <div class="col-md-9 dashboard-content">
        <!-- heading -->
        <div class="d-flex justify-content-between mb-3">
            <h2 class="mb-0">Time Attendance</h2>
            <!-- Summary Badges -->
            <div class="d-flex gap-3">
                <div class="badge-box p-3  text-start d-flex flex-column justify-content-center" style="width: auto; height: 80px;">
                    <p class="mb-1">Today</p>
                    <h4 class="mb-0">12 March 2025</h4>
                </div>
                <div class="badge-box p-3  text-start d-flex flex-column justify-content-center" style="width: auto; height: 80px;">
                    <p class="mb-1">On-Time</p>
                    <h4 class="mb-0">11</h4>
                </div>
                <div class="badge-box p-3  text-start d-flex flex-column justify-content-center" style="width: auto; height: 80px;">
                    <p class="mb-1">Late Attendance</p>
                    <h4 class="mb-0">4</h4>
                </div>
                <div class="badge-box p-3  text-start d-flex flex-column justify-content-center" style="width: auto; height: 80px;">
                    <p class="mb-1">Absent</p>
                    <h4 class="mb-0">2</h4>
                </div>
            </div>
        </div>
        <!-- heading  -->

        <!-- Timesheet & attendance Table  -->
        <div class="container mt-4">         
            <!-- Tabs -->
            <ul class="nav nav-tabs" id="attendanceTabs">
                <li class="nav-item">
                    <a class="nav-link active" id="timesheet-tab" data-bs-toggle="tab" href="#timesheet"> <i class="bi bi-calendar2-event-fill" style="margin-right:5px;"></i>Timesheet</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="leave-request-tab" data-bs-toggle="tab" href="#leave-request"> <i class="bi bi-calendar2-x-fill"  style="margin-right:5px;"></i> Leave Request</a>
                </li>
            </ul>
        
            <div class="tab-content mt-3">
                <!-- Timesheet Tab -->
                <div class="tab-pane fade show active" id="timesheet">
                    <h3>Timesheet</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Intern</th>
                                <th>Date</th>
                                <th>Time In</th>
                                <th>Time Out</th>
                                <th>Description</th>
                                <th>Site Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Doc Hudson</td>
                                <td>17 Dec 2024</td>
                                <td>8:26</td>
                                <td>17:31</td>
                                <td>Programming web apps</td>
                                <td>Work From Home</td>
                            </tr>
                            <tr>
                                <td>Lightning McQueen</td>
                                <td>17 Dec 2024</td>
                                <td>8:29</td>
                                <td>17:30</td>
                                <td>Black box testing</td>
                                <td>Office</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
        
                <!-- Leave Request Tab -->
                <div class="tab-pane fade" id="leave-request">
                    <h3>Leave Request</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Intern</th>
                                <th>Leave Type</th>
                                <th>Duration</th>
                                <th>Start - End Date</th>
                                <th>Reason</th>
                                <th>Approval</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Ryan Gosling</td>
                                <td>Vacation</td>
                                <td>2 days</td>
                                <td>2nd - 5th Jan 2025</td>
                                <td>Personal</td>
                                <td>✔ Approved</td>
                            </tr>
                            <tr>
                                <td>Doja Cat</td>
                                <td>Business</td>
                                <td>1 day</td>
                                <td>3rd Dec 2024</td>
                                <td>Client Meeting</td>
                                <td>✔ Approved</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
         <!-- Timesheet & attendance Table  -->
         
    </div>
</div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <!-- Custom JS  -->
    <script src="../js/app.js"></script>
    <script>

document.addEventListener("DOMContentLoaded", function () {
    let sidebarLinks = document.querySelectorAll(".nav-link");

    // Get the last active link from localStorage
    let activeLink = localStorage.getItem("activeSidebarLink");

    sidebarLinks.forEach(link => {
        if (link.getAttribute("href") === activeLink) {
            link.classList.add("active");
        } else {
            link.classList.remove("active"); // Remove active from other links
        }

        link.addEventListener("click", function (event) {
            // Only prevent default for internal navigation (hash links)
            if (!this.getAttribute("href").startsWith("#")) {
                localStorage.setItem("activeSidebarLink", this.getAttribute("href"));
                return; // Let the browser navigate normally
            }
            
            event.preventDefault(); // Prevent hash-based jumps

            // Remove active class from all links
            sidebarLinks.forEach(l => l.classList.remove("active"));

            // Add active class only to the clicked link
            this.classList.add("active");

            // Save active link in localStorage
            localStorage.setItem("activeSidebarLink", this.getAttribute("href"));
        });
    });
});

// Ensure the correct tab is displayed on reload
document.addEventListener("DOMContentLoaded", function () {
    let savedTab = localStorage.getItem("activeTab") || "#timesheet"; // Default to Timesheet
    let currentTab = document.querySelector(`a[href="${savedTab}"]`);

    if (currentTab) {
        let tab = new bootstrap.Tab(currentTab);
        tab.show();
    }

    // Save the active tab when the user clicks
    document.querySelectorAll("#attendanceTabs a").forEach(tab => {
        tab.addEventListener("click", function () {
            localStorage.setItem("activeTab", this.getAttribute("href"));
        });
    });
});




    </script>
</body>
</html>